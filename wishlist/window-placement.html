<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD>
<TITLE>PuTTY semi-bug window-placement</TITLE>
<link rel="canonical" href="https://www.chiark.greenend.org.uk/~sgtatham/putty/wishlist/window-placement.html">
<link rel="stylesheet" type="text/css" href="../sitestyle.css" title="PuTTY Home Page Style">
<link rel="shortcut icon" href="putty.ico">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex,nofollow">
</HEAD>
<BODY>
<h1 align=center>PuTTY semi-bug window-placement</h1>

<div align=center class="mirrorwarning">
This is a mirror. Follow this link to find
<a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/">the primary PuTTY web site</a>.
</div>

<p align=center>

<a href="../">Home</a>
 |

<a href="../faq.html">FAQ</a>
 |

<a href="../feedback.html">Feedback</a>
 |

<a href="../licence.html">Licence</a>
 |

<a href="../maillist.html">Updates</a>
 |

<a href="../mirrors.html">Mirrors</a>
 |

<a href="../keys.html">Keys</a>
 |

<a href="../links.html">Links</a>
 |

<a href="../team.html">Team</a>
<br>
Download:

<a href="../latest.html">Stable</a>
 &#183;

<a href="../prerel.html">Pre-release</a>
 &#183;

<a href="../snapshot.html">Snapshot</a>
 |

<a href="../docs.html">Docs</a>
 |

<a href="../changes.html">Changes</a>
 |

<a href="./">Wishlist</a>
</p>

<b>summary</b>: Window placement circumvents Windows default rules<br>
<b>class</b>: <i>semi-bug:</i> This might or might not be a bug, depending on your precise definition of what a bug is.<br>
<b>difficulty</b>: <i>tricky:</i> Needs many tuits.<br>
<b>priority</b>: <i>low:</i> We aren&#x27;t sure whether to fix this or not.<br>
<p><pre>When creating its window, PuTTY first creates a `guess&#x27; window of
arbitrary size, and then measures the difference between its full
area and client area. This allows it to know how much space the
window borders take up, so it can calculate what size the window
should really be and resize the guess window to that size.
Unfortunately this breaks the Windows default window placement.

It&#x27;s possible that fixing this would be as easy as closing the guess
window and opening a new one. Then again, perhaps that would cause
its own problems. I&#x27;m not entirely sure what a Windows app should do
if it wants to open a window in one go with a client area of a
specific size.

Update: it&#x27;s been suggested that AdjustWindowRect(Ex) is useful. We
still need a device context for font metrics; we could get one from
the desktop but that might break in the presence of multiple monitors.

Further update: it&#x27;s been suggested that GetWindowDC(NULL) should be
fine in 99% of cases.
&lt;12250972734.20040408170548@kanargh.force9.co.uk&gt;

2006-Feb-26: I&#x27;ve done some experimenting with this change, but it
seems to have a few unexpected interactions with the rest of our
resize code (which needs an overhaul in any case).
</pre><div class="audit"><a href="https://git.tartarus.org/?p=simon/putty-wishlist.git;a=history;f=data/window-placement;hb=refs/heads/main">Audit trail</a> for this semi-bug.</div>



<p><hr>
If you want to comment on this web site, see the
<a href="../feedback.html">Feedback page</a>.
<br>

<div class="timestamp">(last revision of this bug record was at 2006-02-26 21:25:28 +0000)</div>

</BODY></HTML>
